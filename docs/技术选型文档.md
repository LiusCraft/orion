# 工程效能 AI 助手 技术选型文档

## 文档信息
- **创建日期**: 2025-09-29
- **决策状态**: 已确定
- **参与人员**: 产品团队

## 技术选型总览

### 前端技术栈
- **框架**: React 18
- **UI组件库**: Ant Design
- **样式框架**: Tailwind CSS
- **开发语言**: TypeScript
- **构建工具**: Vite

### 后端技术栈
- **开发语言**: Go
- **Web框架**: Gin
- **AI框架**: Eino (CloudWeGo)
- **API文档**: Swagger/OpenAPI

## 详细技术选型

### 1. 前端技术选型

#### React 18
**选择理由**:
- 生态成熟，社区活跃
- 组件化开发，代码复用性好
- 团队熟悉，开发效率高
- 与后续移动端React Native可共享逻辑

#### Ant Design
**选择理由**:
- 企业级设计语言，适合管理后台场景
- 组件丰富完整，包含表格、表单、对话框等所需组件
- 文档详细，中文友好
- 设计风格专业简洁，符合技术人员使用习惯

**主要组件预期使用**:
- Chat/Message: 对话界面
- Table: 知识库管理、工具管理
- Form: 配置表单
- Layout: 整体布局
- Tree: 知识分类

#### Tailwind CSS
**选择理由**:
- 与Ant Design配合，处理细节样式定制
- 原子化CSS，样式一致性好
- 响应式设计支持
- 构建时优化，最终包体积小

### 2. 后端技术选型

#### Go语言
**选择理由**:
- 公司技术栈统一，团队熟悉
- 编译成单个二进制文件，部署简单
- 高性能，低内存占用
- 并发处理能力强，适合高并发场景
- 类型安全，代码质量有保障

#### Gin框架
**选择理由**:
- 轻量级，性能优秀
- 中间件支持丰富
- 路由功能强大
- 与Go生态集成良好
- 学习成本低

#### Eino AI框架
**选择理由**:
- 专门为Go设计的LLM应用开发框架
- 受LangChain和LlamaIndex启发，功能完整
- 内置ReAct Agent实现，符合我们的Agent需求
- 丰富的组件抽象（ChatModel、Tools、Templates）
- 强大的编排能力（Chain、Graph、Workflow）
- 自动流式处理，支持实时对话
- 类型安全的组件组合

**Eino核心能力**:
```
- ChatModel: LLM模型接入
- Tools: 工具调用框架
- Templates: Prompt模板管理
- Chain: 线性处理流程
- Graph: 复杂逻辑编排
- Workflow: 工作流管理
- ReAct Agent: 推理行动循环
```

## 技术架构设计

### 整体架构
```
┌─────────────────────────────────────────────────┐
│                   前端层                         │
│  React + Ant Design + Tailwind CSS             │
│  - 对话界面                                     │
│  - 管理控制台                                   │
│  - 响应式设计                                   │
└─────────────────────────────────────────────────┘
                        │ HTTP/WebSocket
┌─────────────────────────────────────────────────┐
│                   API层                         │
│  Gin + Middleware                              │
│  - 路由管理                                     │
│  - 认证授权                                     │
│  - 限流熔断                                     │
└─────────────────────────────────────────────────┘
                        │
┌─────────────────────────────────────────────────┐
│                  业务层                         │
│  Go Business Logic                             │
│  - 用户管理                                     │
│  - 知识库管理                                   │
│  - 工具管理                                     │
└─────────────────────────────────────────────────┘
                        │
┌─────────────────────────────────────────────────┐
│                  AI引擎层                       │
│  Eino Framework                                │
│  - ChatModel (LLM接入)                         │
│  - Tools (工具调用)                             │
│  - RAG (检索增强)                               │
│  - Agent (智能体)                               │
└─────────────────────────────────────────────────┘
                        │
┌─────────────────────────────────────────────────┐
│                  数据层                         │
│  - 业务数据库 (PostgreSQL)                      │
│  - 向量数据库 (待选择)                          │
│  - 缓存 (Redis)                                 │
│  - 文件存储 (MinIO/OSS)                         │
└─────────────────────────────────────────────────┘
```

## 技术风险评估

### 风险点
1. **Eino框架**: 相对较新，社区生态需要评估
2. **Go AI生态**: 相比Python生态较小，但Eino弥补了这个差距
3. **团队学习成本**: 需要学习AI相关概念和Eino框架

### 风险缓解
1. **技术验证**: 先做POC验证Eino框架能力
2. **文档建设**: 建立团队内部技术文档
3. **逐步迁移**: 可以先用Python验证方案，后续迁移到Go

## 待确定技术

### 数据存储
- **业务数据库**: PostgreSQL (确定)
- **向量数据库**: Weaviate/Chroma/Qdrant (待选择)
- **缓存**: Redis (确定)
- **文件存储**: MinIO/阿里云OSS (待确定)

### AI相关
- **LLM模型**: OpenAI GPT-4/通义千问/本地模型 (待确定)
- **Embedding模型**: text-embedding-ada-002/BGE (待确定)

### 部署相关
- **容器化**: Docker (确定)
- **编排**: Kubernetes (待确定)
- **监控**: Prometheus + Grafana (待确定)

## 下一步行动

1. **技术验证**: 
   - 搭建Eino框架POC
   - 验证Go + React的前后端集成
   
2. **项目初始化**:
   - 创建项目结构
   - 配置开发环境
   - 建立CI/CD流程

3. **MVP开发**:
   - 基础对话界面
   - 简单LLM接入
   - 基础工具调用

## 参考资料
- [Eino GitHub](https://github.com/cloudwego/eino)
- [Ant Design官网](https://ant.design/)
- [Gin框架文档](https://gin-gonic.com/)
- [React官方文档](https://react.dev/)
